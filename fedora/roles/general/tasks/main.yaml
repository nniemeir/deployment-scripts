- name: Install general packages
  become: yes
  ansible.builtin.dnf:
    state: present
    name:
      - fzf
      - gvfs
      - gvfs-mtp
      - htop
      - kitty
      - light
      - python3-pip
      - ranger
      - unrar
      - unzip
      - zsh

- name: Change default shell to ZSH
  user:
    name: "{{ ansible_user_id }}"
    shell: /usr/bin/zsh

- name: Create Firefox policies directory
  become: yes
  ansible.builtin.file:
    path: "/etc/firefox/policies"
    state: directory

- name: Copy Firefox policies
  become: yes
  copy: 
    src=policies.json
    dest=/etc/firefox/policies/policies.json 
    owner=root 
    group=root 
    mode=0644